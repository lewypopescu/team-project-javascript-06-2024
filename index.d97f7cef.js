function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},o=t.parcelRequirebfde;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return a[e]=o,t.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequirebfde=o),o("epHO8");var s=o("2shzp"),l=o("1GAPJ");let r=1,i=1;const c=document.querySelector(".galleryPopular");async function d(t=1){const a=`https://api.themoviedb.org/3/movie/popular?language=en-US&page=${t}&api_key=904cc36a32d92a605c14a646cc21fc67`;try{const e=await s.default.get(a),{results:n,total_pages:o}=e.data;i=o,p(n),m(t)}catch(t){console.error("Error fetching popular movies:",t),e(l).Notify.failure("Failed to fetch popular movies. Please try again later.")}}["/index.html","/","/team6/","/team6/index.html"].some((e=>window.location.pathname===e||window.location.pathname.startsWith(e+"/")))&&!window.location.pathname.includes("/my-library.html")&&d(r);const u={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};function p(e){const t=e.map((({id:e,poster_path:t,original_title:a,genre_ids:n,release_date:o})=>`\n      <div class="div-poster">\n        <a href="#" data-id="${e}" class="poster-link">\n          <img class="poster-card" src="${"https://image.tmdb.org/t/p/w500"+t}" alt="${a}" loading="lazy" />\n        </a>\n        <div class="info">\n          <p class="info-title">${a}</p>\n          <p class="info-genre-year">${n.map((e=>u[e])).join(", ")} | ${o?o.split("-")[0]:""}</p>\n        </div>\n      </div>\n    `)).join("");c.innerHTML=t,document.querySelectorAll(".poster-link").forEach((e=>{e.addEventListener("click",(async e=>{e.preventDefault();const t=e.currentTarget.getAttribute("data-id");await g(t)}))}))}function m(e){const t=document.querySelector(".prev"),a=document.querySelector(".next"),n=document.querySelectorAll(".page-btn");t.disabled=1===e,a.disabled=e===i,n.forEach((t=>{if(t.dataset.shown)return;const a=parseInt(t.id.split("-")[1],10);t.classList.toggle("active",a===e)}))}async function g(t){const a=`https://api.themoviedb.org/3/movie/${t}?api_key=904cc36a32d92a605c14a646cc21fc67`;try{const o=(await s.default.get(a)).data,r=`\n      <div class="cards-modal-content">\n        <span class="cards-modal-close-button">&times;</span>\n        <img class="cards-modal-poster-card" src="${"https://image.tmdb.org/t/p/w500"+o.poster_path}" alt="${o.title}" loading="lazy" />\n        <div class="cards-modal-div-info">\n          <h2 class="cards-modal-title">${o.title}</h2>\n          <div class="cards-modal-details">\n            <span class="label">Vote / Votes</span>\n            <span class="value">${o.vote_average} / ${o.vote_count}</span>\n          </div>\n          <div class="cards-modal-details">\n            <span class="label">Popularity</span>\n            <span class="value">${o.popularity}</span>\n          </div>\n          <div class="cards-modal-details">\n            <span class="label">Original Title</span>\n            <span class="value">${o.original_title}</span>\n          </div>\n          <div class="cards-modal-details">\n            <span class="label">Genre</span>\n            <span class="value">${o.genres.map((e=>e.name)).join(", ")}</span>\n          </div>\n          <div class="cards-modal-about">\n            <span class="label">About</span>\n            <span class="value">${o.overview}</span>\n          </div>\n          <div class="cards-modal-buttons">\n            <button id="toggle-watched" class="cards-modal-button watch">Loading...</button>\n            <button id="toggle-queue" class="cards-modal-button queue">Loading...</button>\n          </div>\n        </div>\n      </div>\n    `;let i=document.querySelector(".cards-modal-modal");function n(){i.style.display="none"}i||(i=document.createElement("div"),i.classList.add("cards-modal-modal"),document.body.appendChild(i)),i.innerHTML=r,i.style.display="block",i.querySelector(".cards-modal-close-button").addEventListener("click",n),window.addEventListener("click",(e=>{e.target===i&&n()})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&n()})),y("watched",o.id,"toggle-watched"),y("queue",o.id,"toggle-queue"),document.getElementById("toggle-watched").addEventListener("click",(()=>{v("watched",o),y("watched",o.id,"toggle-watched")})),document.getElementById("toggle-queue").addEventListener("click",(()=>{v("queue",o),y("queue",o.id,"toggle-queue")}))}catch(c){console.error("Error fetching movie details:",c),e(l).Notify.failure("Failed to fetch movie details. Please try again later.")}}function v(t,a){let n=JSON.parse(localStorage.getItem(t))||[];const o=n.findIndex((e=>e.id===a.id));-1===o?(n.push(a),e(l).Notify.info(`The movie has been added to ${t.toUpperCase()}`)):(n.splice(o,1),e(l).Notify.info(`The movie has been removed from ${t.toUpperCase()}`)),localStorage.setItem(t,JSON.stringify(n))}function y(e,t,a){const n=function(e,t){return(JSON.parse(localStorage.getItem(e))||[]).some((e=>e.id===t))}(e,t),o=document.getElementById(a);o.textContent=n?`Remove from ${e.toUpperCase()}`:`Add to ${e.toUpperCase()}`}document.querySelector(".prev").addEventListener("click",(()=>{r>1&&(r--,d(r))})),document.querySelector(".next").addEventListener("click",(()=>{r<i&&(r++,d(r))})),document.querySelectorAll(".page-btn").forEach((e=>{e.dataset.shown||e.addEventListener("click",(()=>{const t=parseInt(e.id.split("-")[1],10);r=t,d(r)}))})),o("ak03H");const f=document.querySelector(".loader-container");f.style.display="flex",f.style.justifyContent="center",window.addEventListener("load",(function(){setTimeout((function(){f.style.display="none"}),500)}));s=o("2shzp"),l=o("1GAPJ");document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".header-form"),a=t.querySelector(".header-form__input"),n=document.querySelector(".galleryPopular");t.addEventListener("submit",(async t=>{t.preventDefault();const o=a.value.trim();if(console.log("Search Query:",o),""!==o)try{const e=`https://api.themoviedb.org/3/search/movie?api_key=${"904cc36a32d92a605c14a646cc21fc67"}&query=${encodeURIComponent(o)}`,t=await s.default.get(e),{results:a}=t.data;console.log("Search Results:",a),function(e){const t="https://image.tmdb.org/t/p/w500",a=e.map((({id:e,poster_path:a,original_title:n,release_date:o})=>`\n        <div class="div-poster">\n          <a href="#" data-id="${e}" class="poster-link">\n            <img class="poster-card" src="${t+a}" alt="${n}" loading="lazy" />\n          </a>\n          <div class="info">\n            <p class="info-title">${n}</p>\n            <p class="info-genre-year">${o}</p>\n          </div>\n        </div>\n      `)).join("");console.log("Generated Markup:",a),n.innerHTML=a}(a)}catch(t){console.error("Error fetching movies:",t),e(l).Notify.failure("Failed to fetch movies. Please try again later.")}})),n.addEventListener("click",(async e=>{e.preventDefault();const t=e.target.closest(".poster-link");if(t){g(t.dataset.id)}}))}));let h=0;async function w(e=1){const t=`https://api.themoviedb.org/3/movie/popular?language=en-US&page=${e}&api_key=904cc36a32d92a605c14a646cc21fc67`;try{const e=await axios.get(t),{results:a,total_pages:n}=e.data;h=n,p(a),m()}catch(e){console.error("Error fetching data:",e)}}o("bTcpz"),o("1GAPJ");document.querySelector(".galleryPopular");document.querySelector(".prev").addEventListener("click",(()=>{currentPage>1&&(currentPage--,w(currentPage))})),document.querySelector(".next").addEventListener("click",(()=>{currentPage<totalPages&&(currentPage++,w(currentPage))})),document.querySelectorAll(".page-btn").forEach((e=>{e.dataset.shown||e.addEventListener("click",(()=>{parseInt(e.id.split("-")[1],10),currentPage="page",w(currentPage)}))})),["/index.html","/","/team6/","/team6/index.html"].some((e=>window.location.pathname===e||window.location.pathname.startsWith(e+"/")))&&!window.location.pathname.includes("/my-library.html")&&w(currentPage);
//# sourceMappingURL=index.d97f7cef.js.map
